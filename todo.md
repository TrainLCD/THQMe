# Project TODO

- [x] アプリアイコン生成とブランディング設定
- [x] テーマカラー設定（位置情報アプリ向け）
- [x] 位置情報データの型定義（LocationUpdate, MovingState）
- [x] WebSocket接続管理フック（useWebSocket）
- [x] 位置情報ストア（Context + Reducer）
- [x] Home画面（接続管理UI）
- [x] Timeline画面（時系列表示）
- [x] タブナビゲーション設定
- [x] 接続ステータスコンポーネント
- [x] 位置情報カードコンポーネント
- [x] デバイスフィルター機能
- [x] AsyncStorageでURL永続化
- [x] ユニットテスト作成
- [x] WebSocket URLを固定値に変更（wss://analytics-internal.trainlcd.app/ws）
- [x] WebSocket protocolsを追加（thq, thq-auth-xxx）
- [x] URL入力欄を削除してシンプルなUIに変更
- [x] WebSocket受信データのコンソールログ出力機能を追加
- [x] WebSocket接続確立時に{ type: "subscribe" }を送信
- [x] タイムラインタブのエラーを修正（未知のstate値のフォールバック追加）
- [x] アプリ名をTHQMeに変更
- [x] 添付画像をアプリアイコンとして設定
- [x] 接続ステータスからURLとボタンを削除
- [x] アプリ起動時に自動でWebSocket接続を開始
- [x] 新しいアイコン画像に変更（正方形版）
- [x] MovingStateをarrived/approaching/passing/movingの4つの状態に変更
- [x] 位置情報カードに日付表示（YYYY/MM/DD）を追加
- [x] タイムライン画面からPull to Refresh機能を削除
- [x] logタイプメッセージの型定義を追加
- [x] logメッセージをストアに保存
- [x] logメッセージ表示UIを実装
- [x] LogData型を実際のデータ構造（ネストされたlogオブジェクト）に修正
- [x] LogInfo型のlevelを明確に定義（info/debug/warn/error）
- [x] subscribeメッセージにdevice: "THQMe"を追加
- [x] WebSocket自動再接続機能を実装
- [x] スプラッシュ画面を白背景にアイコン表示に設定
- [x] logoUrlを新しいTHQMeアイコンのS3 URLに更新
- [x] バッジにボーダーを追加してアクセント色で装飾
- [x] バッジのボーダー色をアクセント色に修正（StyleSheetで直接指定）
- [x] 統計情報に「位置情報更新」と「受信ログ」のカウンターを追加
- [x] 受信メッセージをログも含めた累積数に修正
- [x] ログの上限値を500件に統一
- [x] WebSocket認証トークンを環境変数に移行して秘匿
- [x] ログ画面にタイプ・レベル・デバイスでの絞り込み機能を追加
- [x] フィルター設定をアコーディオン（折りたたみ）に変更
- [x] フィルターを複数選択可能に変更（「すべて」選択時は全解除）
- [x] フィルターアコーディオンのボタン高さを大きくする
- [x] アコーディオン開閉時にスライドアニメーションを追加
- [x] スライドアニメーションをreanimatedで再実装（Web対応）
- [x] タイムライン画面にアコーディオン形式のフィルター機能を追加
- [x] アコーディオンの高さと絵文字の見切れ問題を修正
- [x] ピン絵文字の上部（赤い部分）が見切れる問題を修正
- [x] ログ画面の絵文字見切れも修正
- [x] 速度の表示をm/sからkm/hに変換
- [x] ホーム画面のタイトルテキストをアプリアイコン画像に置換
